<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calvin Ma</title>
    <!-- Link to Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script&family=Patrick+Hand&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/png" href="apple-touch-icon.png">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: #001f3f; /* Navy blue background */
            color: white; /* Change text color to white for contrast */
            display: flex;
            flex-direction: column;
            align-items: center;
            font-family: 'Patrick Hand', cursive; /* Handwritten font */
        }

        .container {
            display: flex;
            max-width: 1200px;
            width: 100%;
            padding: 20px;
        }

        /* Hero section */
        .hero {
            position: relative; /* Enable positioning for child elements */
            width: 100%;
            background-color: #001f3f; /* Dark blue background */
            padding: 60px 20px 20px; /* Padding adjusted to remove space at the top */
            text-align: center;
            color: white;
        }

        .hero img {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
        }

        /* Title styling for Calvin Ma */
        .name-overlay {
            position: absolute;
            bottom: 10%; /* Position at the bottom of the image */
            left: 50%;
            transform: translate(-50%, 50%); /* Center horizontally */
            font-size: 7em; /* Increased size */
            font-family: 'Dancing Script', cursive; /* Cursive font for title */
            color: white; /* Text color */
            text-shadow: 2px 2px 0px black; /* Black outline effect */
            text-align: center; /* Center alignment */
        }

        /* Portfolio section styling */
        .portfolio-section {
            display: flex;
            flex-direction: row; /* Keep items in a row */
            width: 100%;
            padding: 20px;
            margin-bottom: 40px; /* Added space below each section */
        }

        /* Left panel */
        .portfolio-list {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .portfolio-item {
            background-color: #000; /* Change background to black */
            color: #fff; /* Change text color to white */
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            padding: 20px;
            border-radius: 8px;
            cursor: pointer;
            text-decoration: none; /* Remove underline */
        }

        .portfolio-item h3 {
            color: #00aaff;
            margin-bottom: 8px;
        }

        .portfolio-item p {
            color: #ccc; /* Slightly lighter color for description */
        }

        /* Preview Window */
        .portfolio-preview {
            flex: 1; /* Take available space on the right */
            background-color: #000; /* Change background to black */
            color: #fff;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
            padding: 20px;
            display: none; /* Initially hidden */
        }

        .portfolio-preview.active {
            display: block;
        }

        .iframe-container {
            width: 100%;
            height: 1200px; /* Set a taller height for the iframe */
            border: none;
            margin-top: 10px; /* Space above the iframe */
        }

        /* Footer */
        .footer {
            background-color: #333;
            color: #fff;
            text-align: center;
            padding: 20px;
            width: 100%;
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <!-- Hero section -->
    <section class="hero">
        <img src="toronto futuristic.webp" alt="Toronto skyline">
        <h1 class="name-overlay">Calvin Ma</h1> <!-- Centered title with outline -->
    </section>

    <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stock Price Prediction</title>
</head>
<body>
    <h3>Serverless Application: Enter a stock ticker (eg. AAPL) to predict tomorrow's price</h3>
    <p>Using 60 days of data through an exponential moving average forecasting model</p>
    <p>Built with AWS Lambda and API Gateway</p>
    <form id="tickerForm">
        <label for="ticker">Ticker Symbol:</label>
        <input type="text" id="ticker" name="ticker" required>
        <button type="submit">Get Prediction</button>
    </form>
    <p id="result"></p>

    <script>
    document.getElementById('tickerForm').addEventListener('submit', async function(event) {
        event.preventDefault();
        
        const ticker = document.getElementById('ticker').value.trim().toUpperCase();
        const apiUrl = `https://hikjoibv7e64w5ketu4dpb4kjm0squjj.lambda-url.ca-central-1.on.aws/?ticker=${ticker}`;
        
        try {
            const response = await fetch(apiUrl);
            
            if (!response.ok) {
                throw new Error(`Network response was not ok: ${response.status} ${response.statusText}`);
            }

            // Directly parse response as JSON
            const data = await response.json();
            const predictedPrice = data; // Use data.body directly if it's already a number
            
            // Get tomorrow's date
            const tomorrow = new Date();
            tomorrow.setDate(tomorrow.getDate() + 1);
            const tomorrowStr = tomorrow.toISOString().split('T')[0];
            
            // Display the result
            document.getElementById('result').innerText = 
                `The stock price for ${ticker} on ${tomorrowStr} is predicted to be USD ${predictedPrice}. This is not financial advice.`;
        } catch (error) {
            document.getElementById('result').innerText = 
                `An error occurred: ${error.message}. Please check the ticker symbol and try again.`;
            console.error('Error:', error);
        }
    });
</script>

    <!-- Tableau -->
<div style="display: flex; justify-content: center; margin: 20px 0; padding-top: 20px;">
    <div class="tableauPlaceholder" id="viz1731441817835" style="position: relative;">
        <h3>Tableau Visualization</h3>
        <p>Please click on the right to filter by province</p>
        <noscript>
            <a href="#">
                <img alt="Dashboard 1" src="https://public.tableau.com/static/images/ca/canadacitiesandprovinceshousingprices/Dashboard1/1_rss.png" style="border: none" />
            </a>
        </noscript>
        <object class="tableauViz" style="display:none;">
            <param name="host_url" value="https%3A%2F%2Fpublic.tableau.com%2F" />
            <param name="embed_code_version" value="3" />
            <param name="path" value="views/canadacitiesandprovinceshousingprices/Dashboard1?:language=en-US&amp;:embed=true&amp;:sid=&amp;:redirect=auth" />
            <param name="toolbar" value="yes" />
            <param name="static_image" value="https://public.tableau.com/static/images/ca/canadacitiesandprovinceshousingprices/Dashboard1/1.png" />
            <param name="animate_transition" value="yes" />
            <param name="display_static_image" value="yes" />
            <param name="display_spinner" value="yes" />
            <param name="display_overlay" value="yes" />
            <param name="display_count" value="yes" />
            <param name="language" value="en-US" />
        </object>
    </div>
</div>

<script type="text/javascript">
    var divElement = document.getElementById('viz1731441817835');
    var vizElement = divElement.getElementsByTagName('object')[0];
    if (divElement.offsetWidth > 800) {
        vizElement.style.width = '1000px';
        vizElement.style.height = '827px';
    } else if (divElement.offsetWidth > 500) {
        vizElement.style.width = '1000px';
        vizElement.style.height = '827px';
    } else {
        vizElement.style.width = '1000px';
        vizElement.style.height = '827px';
    }
    var scriptElement = document.createElement('script');
    scriptElement.src = 'https://public.tableau.com/javascripts/api/viz_v1.js';
    vizElement.parentNode.insertBefore(scriptElement, vizElement);
</script>


    <!-- Projects Section -->
    <div class="container">
        <section id="projects" class="portfolio-section">
            <div class="portfolio-list">
                <h2>Personal Projects</h2> <!-- Title for projects -->
                <div class="portfolio-item" onclick="showPreview('project1')">
                    <h3>Finetuning BERT to Detect Insincere Quora Submissions (Python)</h3>
                    <p>BERT (Bidirectional Encoder Representations from Transformers) was developed by Google AI as a "swiss-army knife" to answer many of natural language processing (NLP) problems, including sentiment analysis, question answering, text generation, summarization, and text prediction. Training a natural language learning model such as BERT is very expensive and time-consuming because of the large number of parameters (110M+) and the massive amount of traning data (3.3 billion words). Therefore, we utilize transfer learning with Tensorflow and Tensorflow Hub in order to finetune a pre-trained BERT model onto our dataset, which is a selection of sincere and insincere questions from Quora.com, in order to classify whether or not a question is authentic.</p>
                </div>
                <div class="portfolio-item" onclick="showPreview('project7')">
                    <h3>Finetuning a Semantic Segmentation model on AWS SageMaker to Identify Boundaries in Pet Images (Python)</h3>
                    <p>Semantic Segmentation is a computer vision algorithm that uses deep learning to classify each pixel within an image as foreground, background, or boundary. It uses a fully convolutional network (FCN), unlike traditional convolutional networks (CNNs) that contain fully connected layers. This enables FCNs to excel in pixel-wise classification, which is used in medical imaging to detect tumors and other anatomical structures, in satellite image analysis to monitor urban developments, or in social media applications to determine the depth and overlay certain filters</p>
                    <p>In this project, I use AWS Sagemaker to finetune and deploy a semantic segmentation model to outline the borders of pets within different images</p>
                </div>
                <div class="portfolio-item" onclick="showPreview('project6')">
                    <h3>Window Functions (SQL)</h3>
                    <p>Window functions in SQL are used to perform calculations across a set of table rows related to the current row without grouping the data into a single result per group. Window functions allow for row-level granularity and access to rows above and below the current row. Some window functions include: ROW_NUMBER(), LEAD(), LAG(), FIRST_VALUE(), LAST_VALUE(), RANK(), NTILE()</p>
                </div>
                <div class="portfolio-item" onclick="showPreview('project2')">
                    <h3>Classifying Diabetes with PySparkML (PySpark)</h3>
                    <p>There are two types of diabetes: Type 1 diabetes (which is when the immune system attacks the insulin-producing cells in the body) develops early in life, and Type 2 diabetes (which is when the body develops insulin resistance) usually develops gradually over time due to lifestyle-related factors. Type 2 diabetes may be reversed through diet, weight loss, or exercise, and therefore, accurate and timely diagnosis of the disease is crucial.</p>
                    <p>Type 2 diabetes can have numerous indicating factors including pregnancy, blood glucose level, skin thickness, insulin resistance, BMI, age, and many more. However, because oftentimes these symptoms develop slowly, they may be difficult to recognize. Therefore, we utilize PySpark ML in order to train a model to classify whether or not a patient has diabetes, with a resulting Area Under the Curve of 0.8412.</p>
                </div>
                <div class="portfolio-item" onclick="showPreview('project8')">
                    <h3>Using a Generative Adversarial Network (GAN) to Generate Synthetic Data to Resolve Class Imbalance (Python)</h3>
                    <p>In certain datasets, like credit card fraud detection, one class (e.g., non-fraudulent transactions) often greatly outnumbers the other (fraudulent transactions), leading to class imbalance. This imbalance can introduce biases when training machine learning models, as the model may become overly biased toward predicting the majority class.</p>
                    <p>In this project, I first applied Principal Component Analysis (PCA) to reduce the dimensionality of the dataset, which originally contained 29 features, down to 2 components. This dimensionality reduction helps to visualize the structure of the data, revealing how fraudulent transactions compare to genuine ones in a lower-dimensional space.
Next, I implemented a Generative Adversarial Network (GAN) to generate synthetic fraudulent transactions. The GAN consists of two components: a Generator that creates new, synthetic fraudulent data, and a Discriminator that evaluates the authenticity of the generated data against real fraudulent transactions. By training these two components in opposition, the GAN is able to generate increasingly realistic fraudulent transactions.
Finally, I visualized the comparison between the real and synthetic fraudulent transactions across the 28 features. This allowed me to analyze how each feature behaves in both the genuine and synthetic fraud samples, providing insights into the characteristics of fraudulent transactions and how well the GAN can replicate those characteristics.</p>
                </div>
<!--                 <div class="portfolio-item" onclick="showPreview('project3')">
                    <h3>US Political Party Affiliation: Data Exploration and Visualization (Python)</h3>
                    <p>Datasets that we receive are often incomplete or redundant. This project demonstrates typical data cleaning prior to analyses, feature engineering, and data visualization</p>
                </div> -->
                <div class="portfolio-item" onclick="showPreview('project4')">
                    <h3>Predicting Customer Churn (PySpark)</h3>
                    <p>Customer churn is one of the most important metrics of any business, because the cost of acquiring a new client far exceeds the cost of retaining an existing client. In this project, we used a variety of classification algorithms from PySpark including decision trees, random forest, gradient boosting, naive bayes, and other classification algorithms in order to predict whether a customer will churn (exit) based on their features such as credit score, geography, membership, tenure, and many more.</p>
                    <p>After training all of the models, the gradient boosting model was selected because it had the highest F1 score and area under PR; metrics were selected because of the unbalanced nature of customers who exit and those who stayed. A gradient boosting model for the purpose of cross-validation was then created for hyperparameter tuning. The final model had an F1 score of 0.8371 and an accuracy of 0.8485.</p>
                </div>
<!--                 <div class="portfolio-item" onclick="showPreview('project5')">
                    <h3>Predicting Employee Attrition through Deep Learning (Python)</h3>
                    <p>Employees may become less productive the longer they stay at the same company, due to many underlying factors. This project builds a neural network model to predict employee attrition and then see if concessions given would reduce or eliminate attrition. Ultimately, this can be used to see if an employee should be given extra concessions or replaced.</p>
                </div> -->
            </div>

            <!-- Preview Window -->
            <div id="portfolio-preview" class="portfolio-preview">
                <h3>Project Preview</h3>
                <p>Click on a project to see more details here.</p>
                <div class="iframe-container" id="preview-frame"></div>
            </div>
        </section>
    </div>

    <!-- Publications Section -->
    <div class="container">
        <section id="publications" class="portfolio-section">
            <div class="portfolio-list">
                <h2>Publications</h2> <!-- Title for publications -->
                <div class="portfolio-item">
                    <h3>Applying Protein–Protein Interactions and Complex Networks to Identify Novel Genes in Retinitis Pigmentosa Pathogenesis</h3>
                    <p>International Journal of Molecular Sciences</p>
                    <a href="https://doi.org/10.3390/ijms23073962" target="_blank">Link to the Paper</a>
                </div>
                <div class="portfolio-item">
                    <h3>Deep Q-Learning for Trading Cryptocurrency</h3>
                    <p>Journal of Financial Data Science</p>
                    <a href="https://doi.org/10.3905/jfds.2021.1.064" target="_blank">Link to the Paper</a>
                </div>
            </div>
        </section>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2024 Calvin Ma. All Rights Reserved.</p>
    </footer>

    <script>
        const previewData = {
            'project1': `<iframe src="project1.pdf" class="iframe-container"></iframe>`,
            'project2': `<iframe src="project2.pdf" class="iframe-container"></iframe>`,
            'project3': `<iframe src="project3.pdf" class="iframe-container"></iframe>`,
            'project4': `<iframe src="project4.pdf" class="iframe-container"></iframe>`,
            'project5': `<iframe src="project5.pdf" class="iframe-container"></iframe>`,
            'project6': `<iframe src="project6.pdf" class="iframe-container"></iframe>`,
            'project7': `<iframe src="project7.pdf" class="iframe-container"></iframe>`,
            'project8': `<iframe src="project8.pdf" class="iframe-container"></iframe>`
        };

        let currentProject = null; // Track the current project being shown

        function showPreview(projectId) {
            const previewSection = document.getElementById('portfolio-preview');
            const previewFrame = document.getElementById('preview-frame');

            // Toggle visibility if the same project is clicked again
            if (currentProject === projectId) {
                previewSection.classList.toggle('active');
                currentProject = previewSection.classList.contains('active') ? projectId : null;
            } else {
                previewFrame.innerHTML = previewData[projectId];
                previewSection.classList.add('active');
                currentProject = projectId;
            }
        }
    </script>
</body>
</html>
